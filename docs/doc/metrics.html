<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>muspy.metrics &mdash; MusPy  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="muspy.outputs" href="outputs.html" />
    <link rel="prev" title="muspy.inputs" href="inputs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../classes/index.html">MusPy Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timing.html">Timing in MusPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/index.html">Input/Output Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets/index.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../representations/index.html">Representations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synthesis.html">Synthesis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics.html">Metrics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Technical Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="muspy.html">muspy</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html">muspy.datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="external.html">muspy.external</a></li>
<li class="toctree-l2"><a class="reference internal" href="inputs.html">muspy.inputs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">muspy.metrics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html">muspy.outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="processors.html">muspy.processors</a></li>
<li class="toctree-l2"><a class="reference internal" href="schemas.html">muspy.schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html">muspy.visualization</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MusPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Technical Documentation</a> &raquo;</li>
      <li>muspy.metrics</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/salu133445/muspy/blob/master/doc/source/doc/metrics.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-muspy.metrics">
<span id="muspy-metrics"></span><h1>muspy.metrics<a class="headerlink" href="#module-muspy.metrics" title="Permalink to this headline"></a></h1>
<p>Objective metrics.</p>
<p>This module provides common objective metrics in music generation.
These objective metrics could be used to evaluate a music generation
system by comparing the statistical difference between the training
data and the generated samples.</p>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>drum_in_pattern_rate</p></li>
<li><p>drum_pattern_consistency</p></li>
<li><p>empty_beat_rate</p></li>
<li><p>empty_measure_rate</p></li>
<li><p>groove_consistency</p></li>
<li><p>n_pitch_classes_used</p></li>
<li><p>n_pitches_used</p></li>
<li><p>pitch_class_entropy</p></li>
<li><p>pitch_entropy</p></li>
<li><p>pitch_in_scale_rate</p></li>
<li><p>pitch_range</p></li>
<li><p>polyphony</p></li>
<li><p>polyphony_rate</p></li>
<li><p>scale_consistency</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.drum_in_pattern_rate">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">drum_in_pattern_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#drum_in_pattern_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.drum_in_pattern_rate" title="Permalink to this definition"></a></dt>
<dd><p>Return the ratio of drum notes in a certain drum pattern.</p>
<p>The drum-in-pattern rate is defined as the ratio of the number of
notes in a certain scale to the total number of notes. Only drum
tracks are considered. Return NaN if no drum note is found. This
metric is used in [1].</p>
<div class="math notranslate nohighlight">
\[drum\_in\_pattern\_rate = \frac{
    \#(drum\_notes\_in\_pattern)}{\#(drum\_notes)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p></li>
<li><p><strong>meter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>{'duple'</em><em>, </em><em>'triple'}</em>) – Meter of the drum pattern.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Drum-in-pattern rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.drum_pattern_consistency" title="muspy.drum_pattern_consistency"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.drum_pattern_consistency()</span></code></a></dt><dd><p>Compute the largest drum-in-pattern rate.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks
for symbolic music generation and accompaniment,” in Proceedings
of the 32nd AAAI Conference on Artificial Intelligence (AAAI),
2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.drum_pattern_consistency">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">drum_pattern_consistency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#drum_pattern_consistency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.drum_pattern_consistency" title="Permalink to this definition"></a></dt>
<dd><p>Return the largest drum-in-pattern rate.</p>
<p>The drum pattern consistency is defined as the largest
drum-in-pattern rate over duple and triple meters. Only drum tracks
are considered. Return NaN if no drum note is found.</p>
<div class="math notranslate nohighlight">
\[drum\_pattern\_consistency = \max_{meter}{
    drum\_in\_pattern\_rate(meter)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Drum pattern consistency.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.drum_in_pattern_rate" title="muspy.drum_in_pattern_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.drum_in_pattern_rate()</span></code></a></dt><dd><p>Compute the ratio of drum notes in a certain drum pattern.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.empty_beat_rate">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">empty_beat_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#empty_beat_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.empty_beat_rate" title="Permalink to this definition"></a></dt>
<dd><p>Return the ratio of empty beats.</p>
<p>The empty-beat rate is defined as the ratio of the number of empty
beats (where no note is played) to the total number of beats. Return
NaN if song length is zero. This metric is also implemented in
Pypianoroll [1].</p>
<div class="math notranslate nohighlight">
\[empty\_beat\_rate = \frac{\#(empty\_beats)}{\#(beats)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Empty-beat rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.empty_measure_rate" title="muspy.empty_measure_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.empty_measure_rate()</span></code></a></dt><dd><p>Compute the ratio of empty measures.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, and Yi-Hsuan Yang, “Pypianoroll: Open
Source Python Package for Handling Multitrack Pianorolls,” in
Late-Breaking Demos of the 18th International Society for Music
Information Retrieval Conference (ISMIR), 2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.empty_measure_rate">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">empty_measure_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measure_resolution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#empty_measure_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.empty_measure_rate" title="Permalink to this definition"></a></dt>
<dd><p>Return the ratio of empty measures.</p>
<p>The empty-measure rate is defined as the ratio of the number of
empty measures (where no note is played) to the total number of
measures. Note that this metric only works for songs with a constant
time signature. Return NaN if song length is zero. This metric is
used in [1].</p>
<div class="math notranslate nohighlight">
\[empty\_measure\_rate = \frac{\#(empty\_measures)}{\#(measures)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p></li>
<li><p><strong>measure_resolution</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Time steps per measure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Empty-measure rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.empty_beat_rate" title="muspy.empty_beat_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.empty_beat_rate()</span></code></a></dt><dd><p>Compute the ratio of empty beats.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks
for symbolic music generation and accompaniment,” in Proceedings
of the 32nd AAAI Conference on Artificial Intelligence (AAAI),
2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.groove_consistency">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">groove_consistency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measure_resolution</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#groove_consistency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.groove_consistency" title="Permalink to this definition"></a></dt>
<dd><p>Return the groove consistency.</p>
<p>The groove consistency is defined as the mean hamming distance of
the neighboring measures.</p>
<div class="math notranslate nohighlight">
\[groove\_consistency = 1 - \frac{1}{T - 1} \sum_{i = 1}^{T - 1}{
    d(G_i, G_{i + 1})}\]</div>
<p>Here, <span class="math notranslate nohighlight">\(T\)</span> is the number of measures, <span class="math notranslate nohighlight">\(G_i\)</span> is the binary
onset vector of the <span class="math notranslate nohighlight">\(i\)</span>-th measure (a one at position that has
an onset, otherwise a zero), and <span class="math notranslate nohighlight">\(d(G, G')\)</span> is the hamming
distance between two vectors <span class="math notranslate nohighlight">\(G\)</span> and <span class="math notranslate nohighlight">\(G'\)</span>. Note that
this metric only works for songs with a constant time signature.
Return NaN if the number of measures is less than two. This metric
is used in [1].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p></li>
<li><p><strong>measure_resolution</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Time steps per measure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Groove consistency.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Shih-Lun Wu and Yi-Hsuan Yang, “The Jazz Transformer on the Front
Line: Exploring the Shortcomings of AI-composed Music through
Quantitative Measures”, in Proceedings of the 21st International
Society for Music Information Retrieval Conference, 2020.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.n_pitch_classes_used">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">n_pitch_classes_used</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#n_pitch_classes_used"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.n_pitch_classes_used" title="Permalink to this definition"></a></dt>
<dd><p>Return the number of unique pitch classes used.</p>
<p>Drum tracks are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of unique pitch classes used.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.n_pitches_used" title="muspy.n_pitches_used"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.n_pitches_used()</span></code></a></dt><dd><p>Compute the number of unique pitches used.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.n_pitches_used">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">n_pitches_used</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#n_pitches_used"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.n_pitches_used" title="Permalink to this definition"></a></dt>
<dd><p>Return the number of unique pitches used.</p>
<p>Drum tracks are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of unique pitch used.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.n_pitch_class_used()</span></code></dt><dd><p>Compute the number of unique pitch classes used.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.pitch_class_entropy">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">pitch_class_entropy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#pitch_class_entropy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.pitch_class_entropy" title="Permalink to this definition"></a></dt>
<dd><p>Return the entropy of the normalized note pitch class histogram.</p>
<p>The pitch class entropy is defined as the Shannon entropy of the
normalized note pitch class histogram. Drum tracks are ignored.
Return NaN if no note is found. This metric is used in [1].</p>
<div class="math notranslate nohighlight">
\[pitch\_class\_entropy = -\sum_{i = 0}^{11}{
    P(pitch\_class=i) \times \log_2 P(pitch\_class=i)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pitch class entropy.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.pitch_entropy" title="muspy.pitch_entropy"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.pitch_entropy()</span></code></a></dt><dd><p>Compute the entropy of the normalized pitch histogram.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Shih-Lun Wu and Yi-Hsuan Yang, “The Jazz Transformer on the Front
Line: Exploring the Shortcomings of AI-composed Music through
Quantitative Measures”, in Proceedings of the 21st International
Society for Music Information Retrieval Conference, 2020.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.pitch_entropy">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">pitch_entropy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#pitch_entropy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.pitch_entropy" title="Permalink to this definition"></a></dt>
<dd><p>Return the entropy of the normalized note pitch histogram.</p>
<p>The pitch entropy is defined as the Shannon entropy of the
normalized note pitch histogram. Drum tracks are ignored. Return NaN
if no note is found.</p>
<div class="math notranslate nohighlight">
\[pitch\_entropy = -\sum_{i = 0}^{127}{
    P(pitch=i) \log_2 P(pitch=i)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pitch entropy.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.pitch_class_entropy" title="muspy.pitch_class_entropy"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.pitch_class_entropy()</span></code></a></dt><dd><p>Compute the entropy of the normalized pitch class histogram.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.pitch_in_scale_rate">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">pitch_in_scale_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#pitch_in_scale_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.pitch_in_scale_rate" title="Permalink to this definition"></a></dt>
<dd><p>Return the ratio of pitches in a certain musical scale.</p>
<p>The pitch-in-scale rate is defined as the ratio of the number of
notes in a certain scale to the total number of notes. Drum tracks
are ignored. Return NaN if no note is found. This metric is used in
[1].</p>
<div class="math notranslate nohighlight">
\[pitch\_in\_scale\_rate = \frac{\#(notes\_in\_scale)}{\#(notes)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p></li>
<li><p><strong>root</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Root of the scale.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>{'major'</em><em>, </em><em>'minor'}</em>) – Mode of the scale.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pitch-in-scale rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.scale_consistency" title="muspy.scale_consistency"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.scale_consistency()</span></code></a></dt><dd><p>Compute the largest pitch-in-class rate.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks
for symbolic music generation and accompaniment,” in Proceedings
of the 32nd AAAI Conference on Artificial Intelligence (AAAI),
2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.pitch_range">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">pitch_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#pitch_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.pitch_range" title="Permalink to this definition"></a></dt>
<dd><p>Return the pitch range.</p>
<p>Drum tracks are ignored. Return zero if no note is found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pitch range.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.polyphony">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">polyphony</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#polyphony"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.polyphony" title="Permalink to this definition"></a></dt>
<dd><p>Return the average number of pitches being played concurrently.</p>
<p>The polyphony is defined as the average number of pitches being
played at the same time, evaluated only at time steps where at least
one pitch is on. Drum tracks are ignored. Return NaN if no note is
found.</p>
<div class="math notranslate nohighlight">
\[polyphony = \frac{
    \#(pitches\_when\_at\_least\_one\_pitch\_is\_on)
}{
    \#(time\_steps\_where\_at\_least\_one\_pitch\_is\_on)
}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Polyphony.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.polyphony_rate" title="muspy.polyphony_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.polyphony_rate()</span></code></a></dt><dd><p>Compute the ratio of time steps where multiple pitches are on.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.polyphony_rate">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">polyphony_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#polyphony_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.polyphony_rate" title="Permalink to this definition"></a></dt>
<dd><p>Return the ratio of time steps where multiple pitches are on.</p>
<p>The polyphony rate is defined as the ratio of the number of time
steps where multiple pitches are on to the total number of time
steps. Drum tracks are ignored. Return NaN if song length is zero.
This metric is used in [1], where it is called <cite>polyphonicity</cite>.</p>
<div class="math notranslate nohighlight">
\[polyphony\_rate = \frac{
    \#(time\_steps\_where\_multiple\_pitches\_are\_on)
}{
    \#(time\_steps)
}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p></li>
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>default: 2</em>) – Threshold of number of pitches to count into the numerator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Polyphony rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.polyphony" title="muspy.polyphony"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.polyphony()</span></code></a></dt><dd><p>Compute the average number of pitches being played at the same time.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks
for symbolic music generation and accompaniment,” in Proceedings
of the 32nd AAAI Conference on Artificial Intelligence (AAAI),
2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="muspy.metrics.scale_consistency">
<span class="sig-prename descclassname"><span class="pre">muspy.metrics.</span></span><span class="sig-name descname"><span class="pre">scale_consistency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">music</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/muspy/metrics/metrics.html#scale_consistency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#muspy.metrics.scale_consistency" title="Permalink to this definition"></a></dt>
<dd><p>Return the largest pitch-in-scale rate.</p>
<p>The scale consistency is defined as the largest pitch-in-scale rate
over all major and minor scales. Drum tracks are ignored. Return NaN
if no note is found. This metric is used in [1].</p>
<div class="math notranslate nohighlight">
\[scale\_consistency = \max_{root, mode}{
    pitch\_in\_scale\_rate(root, mode)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>music</strong> (<a class="reference internal" href="muspy.html#muspy.Music" title="muspy.Music"><code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code></a>) – Music object to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Scale consistency.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="muspy.html#muspy.pitch_in_scale_rate" title="muspy.pitch_in_scale_rate"><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.pitch_in_scale_rate()</span></code></a></dt><dd><p>Compute the ratio of pitches in a certain musical scale.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Olof Mogren, “C-RNN-GAN: Continuous recurrent neural networks
with adversarial training,” in NeuIPS Workshop on Constructive
Machine Learning, 2016.</p></li>
</ol>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="inputs.html" class="btn btn-neutral float-left" title="muspy.inputs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="outputs.html" class="btn btn-neutral float-right" title="muspy.outputs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Hao-Wen Dong.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>